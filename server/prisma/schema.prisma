// server/prisma/schema.prisma

datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  email     String   @id
  username  String
  password  String
  createdAt DateTime @default(now())
  jobs      Job[]
}

model Job {
  id              Int      @id @default(autoincrement())
  userEmail       String
  companyName     String
  positionTitle   String
  link            String?
  status          String   @default("Applied")
  cvUrl           String?
  createdAt       DateTime @default(now())
  
  // ===================================
  //  砖转 AI 注
  // ===================================
  description     String? // 拽住 砖专  砖住专拽
  
  // 住
  aiSummaryRole   String? // 住 拽爪专 注 转驻拽 (AI)
  aiSummaryTech   String? // 住 拽爪专 注 转 (AI)
  
  // 转 驻专
  aiLevel         String? // 专转 住 专砖转 (Junior, Senior)
  aiJobType       String? // 住 砖专 (Backend, Full-stack, Data, Full-time)
  aiTags          Json?   // 注专 砖 转 转 [Python, FastAPI, MongoDB]
  
  user User @relation(fields: [userEmail], references: [email])
}